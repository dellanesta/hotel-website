"use strict";

var isMobile = window.innerWidth < 1270;
// Componenti header
var header = document.querySelector('header');
if (header) {
  var nav = header.querySelector('.main-nav');
  var menuToggle = nav.querySelector('.menu-toggle');
  var firstMenuToggleVoice = nav.querySelector('.voices-wrapper span:nth-child(1)');
  var secondMenuToggleVoice = nav.querySelector('.voices-wrapper span:nth-child(2)');
  var burger = menuToggle.querySelector('.burger');
  var socialsWrapper = nav.querySelector('.socials-wrapper');
  var socialsWrapperItems = socialsWrapper.querySelectorAll('.social-icon');
  var mainMenu = nav.querySelector('.main-menu');
  var MainMenuHeader = mainMenu.querySelector('.main-menu_header');
  var MainMenuBody = mainMenu.querySelector('.main-menu_body');
  var pagesList = MainMenuBody.querySelector('.pages-list');
  var pagesListItems = pagesList.querySelectorAll('.pages-list_item');
  var pagesListItemTitles = mainMenu.querySelectorAll('.pages-list-item_title');
  var pagesListItemDividers = mainMenu.querySelectorAll('.pages-list-item_divider');
  var pagesListItemVoices = mainMenu.querySelectorAll('.pages li');
  var MainMenuFooter = mainMenu.querySelector('.main-menu_footer');
  var closeMainMenu = MainMenuHeader.querySelector('.burger.close');
  var logoMainMenu = MainMenuHeader.querySelector('.logo-main-menu');
}


// if (header) {
//     let headerPhoneIcon = header.querySelector('.nav-item .phone-icon');

//     // Select nav of website
//     let nav = header.querySelector('.main-nav');
//     let menuToggle = nav.querySelector('.menu-toggle');
//     let firstMenuToggleVoice = nav.querySelector('.voices-wrapper span:nth-child(1)');
//     let secondMenuToggleVoice = nav.querySelector('.voices-wrapper span:nth-child(2)');
//     let burger = menuToggle.querySelector('.burger');
//     let socialsWrapper = nav.querySelector('.socials-wrapper');
//     let socialsWrapperItems = socialsWrapper.querySelectorAll('.social-icon');
//     let mainMenu = nav.querySelector('.main-menu');
//     let MainMenuHeader = mainMenu.querySelector('.main-menu_header');
//     let MainMenuBody = mainMenu.querySelector('.main-menu_body');
//     let MainMenuFooter = mainMenu.querySelector('.main-menu_footer');
//     let closeMainMenu = MainMenuHeader.querySelector('.burger.close');
//     let logoMainMenu = MainMenuHeader.querySelector('.logo-main-menu');
// }

// // Function to set up initial styles for smooth animations
// function setupPreloaderStyles() {

//     gsap.set(headerPhoneIcon, { scale:0});

// }   
// setupPreloaderStyles();

// // Create a paused GSAP timeline
// const tlLoader = gsap.timeline({ paused: true });
// // Define animations
// tlLoader
//     .to(headerPhoneIcon, {
//         scale:1,
//     }) 

// window.addEventListener('load', () => {
//     tlLoader.play(); 
// });
"use strict";
"use strict";

// // Select header of website

var header = document.querySelector('header');
if (header) {
  // Function to set up initial styles for smooth animations
  var setupInitialStyles = function setupInitialStyles() {
    var MainMenuHeaderHeight = MainMenuHeader.offsetHeight;
    var MainMenuFooterHeight = MainMenuFooter.offsetHeight;
    var MainMenuBodyHeight = "calc(100% - ".concat(MainMenuHeaderHeight, "px - ").concat(MainMenuFooterHeight, "px)");
    MainMenuBody.style.height = MainMenuBodyHeight;
    gsap.set(mainMenu, {
      autoAlpha: 0,
      zIndex: -1
    });
    gsap.set(burger, {
      scale: 1,
      duration: 1,
      zIndex: 100
    });
    gsap.set(socialsWrapperItems, {
      x: 0,
      autoAlpha: 1,
      duration: .5,
      stagger: .18
    });
    gsap.set(pagesListItemTitles, {
      y: 24,
      autoAlpha: 0,
      duration: 1.5
    });
    gsap.set(pagesListItemDividers, {
      scaleX: 0,
      duration: 1
    }, "+0.01");
    gsap.set(pagesListItemVoices, {
      y: 24,
      autoAlpha: 0,
      duration: 1
    });
    gsap.set(logoMainMenu, {
      y: -16,
      duration: .5
    });
    gsap.set(closeMainMenu, {
      scale: 0,
      duration: 1,
      zIndex: -1
    });
  };
  setupInitialStyles();
  // Create a paused GSAP timeline
  var tlHeader = gsap.timeline({
    paused: true
  });
  // Define animations
  tlHeader.to(burger, {
    scale: 0,
    autoAlpha: 0,
    zIndex: -1
  }).to(socialsWrapperItems, {
    x: -24,
    autoAlpha: 0
  }, "-0.02").to(mainMenu, {
    autoAlpha: 1,
    zIndex: 100
  }, "-0.01").to(logoMainMenu, {
    y: 0
  }, "-0.01").to(closeMainMenu, {
    scale: 1,
    zIndex: 100
  }, "-0.01").to(pagesListItemTitles, {
    y: 0,
    autoAlpha: 1
  }, "+0.01").to(pagesListItemDividers, {
    scaleX: 1,
    autoAlpha: 1
  }, "+0.01").to(pagesListItemVoices, {
    y: 0,
    autoAlpha: 1
  }, "+0.01");

  // When click on menuToggle
  menuToggle.addEventListener("click", function (e) {
    // If nav has not class open-menu
    if (!nav.classList.contains('open-menu')) {
      // Start or resume the timeline
      tlHeader.play();
      // Add to nac the class open-menu
      nav.classList.add('open-menu');
      // Lock scroll
      document.querySelector('body').classList.add('lock');
    }
  });
  // When click on menuToggle
  closeMainMenu.addEventListener("click", function (e) {
    // If nav has not class open-menu
    if (nav.classList.contains('open-menu')) {
      // Reverse the timeline
      tlHeader.reverse();
      // Remove to nac the class open-menu
      nav.classList.remove('open-menu');
      // Unlock scroll
      document.querySelector('body').classList.remove('lock');
    }
  });
}